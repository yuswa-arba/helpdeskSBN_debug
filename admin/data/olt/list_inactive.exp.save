#!/usr/bin/expect -f
spawn telnet 172.17.8.12
set timeout 3
expect "Username:"
send "admin\r"
expect "Password:"
send "globalbdcom\r"
expect ">"
send "ena\r"
expect "password:"
send "globalbdcom\r"
expect "#"
send "show epon inactive-onu\r"
expect "#"
set i 1
while {$i < 51} {
set output [open "/usr/script/txt/OLT-01-SMD.txt" "w"]
set outcome $expect_out(buffer)
puts $output $outcome
incr i
}
close $output
expect "#"
send "exit\r"

\r\n\r\n
#!/usr/bin/expect -f
spawn telnet 172.17.8.18
set timeout 3
expect "Username:"
send "admin\r"
expect "Password:"
send "globalbdcom\r"
expect ">"
send "ena\r"
expect "password:"
send "globalbdcom\r"
expect "#"
send "show epon inactive-onu\r"
expect "#"
set i 1
while {$i < 51} {
set output [open "/usr/script/txt/OLT-02-SMD.txt" "w"]
set outcome $expect_out(buffer)
puts $output $outcome
incr i
}
close $output
expect "#"
send "exit\r"

\r\n\r\n#!/usr/bin/expect -f
spawn telnet 172.17.8.21
set timeout 3
expect "Username:"
send "admin\r"
expect "Password:"
send "globalbdcom\r"
expect ">"
send "ena\r"
expect "password:"
send "globalbdcom\r"
expect "#"
send "show epon inactive-onu\r"
expect "#"
set i 1
while {$i < 51} {
set output [open "/usr/script/txt/OLT-03-SMD.txt" "w"]
set outcome $expect_out(buffer)
puts $output $outcome
incr i
}
close $output
expect "#"
send "exit\r"

\r\n\r\n#!/usr/bin/expect -f
spawn telnet 172.17.8.20
set timeout 3
expect "Username:"
send "admin\r"
expect "Password:"
send "globalbdcom\r"
expect ">"
send "ena\r"
expect "password:"
send "globalbdcom\r"
expect "#"
send "show epon inactive-onu\r"
expect "#"
set i 1
while {$i < 51} {
set output [open "/usr/script/txt/OLT-04-SMD.txt" "w"]
set outcome $expect_out(buffer)
puts $output $outcome
incr i
}
close $output
expect "#"
send "exit\r"

\r\n\r\n#!/usr/bin/expect -f
spawn telnet 172.17.8.33
set timeout 3
expect "Username:"
send "admin\r"
expect "Password:"
send "globalbdcom\r"
expect ">"
send "ena\r"
expect "password:"
send "globalbdcom\r"
expect "#"
send "show epon inactive-onu\r"
expect "#"
set i 1
while {$i < 51} {
set output [open "/usr/script/txt/OLT-05-SMD.txt" "w"]
set outcome $expect_out(buffer)
puts $output $outcome
incr i
}
close $output
expect "#"
send "exit\r"

\r\n\r\n
